<app-header [title]="'Vintage Report'"></app-header>

<ion-content [fullscreen]="true">
  <ion-accordion-group>
    <ion-accordion value="first">
      <ion-item slot="header">
        <ion-label>When to drink</ion-label>
      </ion-item>
      <div class="ion-padding" slot="content"
        ><p
          >This applies to a very good, but not great, vintage. For a great year, multiply by 25%.
          For a lesser year, reduce by 25%. For magnums, increase by 20%</p
        >
        @for (drink of whenToDrink; track whenToDrinkTrackBy(drink)) {
          <ion-row>
            <ion-col
              ><ion-text [color]="drink.type === 'red' ? 'primary' : 'secondary'">{{
                drink.location
              }}</ion-text></ion-col
            >
            <ion-col
              >Start {{ drink.start }} years after vintage, drink over next
              {{ drink.over }}.</ion-col
            >
          </ion-row>
        }
      </div>
    </ion-accordion>
  </ion-accordion-group>
  <ion-grid>
    <ion-row>
      <ion-col>Year</ion-col>
      <ion-col>Reds</ion-col>
      <ion-col>Whites</ion-col>
      <ion-col>Notes</ion-col>
    </ion-row>
    @for (vintage of vintages; track vintage.year) {
      <ion-row>
        <ion-col>{{ vintage.year }}</ion-col>
        <ion-col
          ><ion-text color="primary">{{ vintage.red }}</ion-text></ion-col
        >
        <ion-col [class.premox]="showPremox(vintage.year)"
          ><ion-text color="secondary">{{ vintage.white }}</ion-text></ion-col
        >
        <ion-col>{{ vintage.notes }}</ion-col>
      </ion-row>
    }
  </ion-grid>
</ion-content>
